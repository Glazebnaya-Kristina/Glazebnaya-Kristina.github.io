!function(r){if(void 0!==r){var l={num:3,maxWidth:250,maxHeight:150,autoPlay:!0,showTime:1e3,animationTime:300,scale:.8,distance:50};r.fn.carousel=function(d){var s,h,f;r(this).each(function(t,i){if(f=r(i),"object"==typeof d&&null!==d){if(s=function(t){var i=null;if("object"==typeof t&&null!==t){for(var a in i={},l)l.hasOwnProperty(a)&&(i[a]=l[a]);for(a in t)t.hasOwnProperty(a)&&i.hasOwnProperty(a)&&(i[a]=t[a])}return i}(d),(h=f.find("ul li").length)<=0||h%2==0)return;(s.num<=0||s.num>h)&&(s.num=h),f.data("config",s),f.data("index",0),f.data("totalNum",h),function(t){var n,e=g(t),o=9999,d=t.data("config"),s=(d.num-1)/2,i=s*d.distance*2+d.maxWidth,a=t.width(),h=t.height();a<i&&t.width(i),h<d.maxHeight&&t.height(d.maxHeight),t.find("ul li img").css({width:"100%",height:"100%"}),t.find("ul").css({position:"relative",width:i,height:d.maxHeight,"list-style":"none",padding:0,margin:0,marginLeft:"50%",left:-i/2,top:(t.height()-d.maxHeight)/2}),t.find(".left").css({position:"absolute",left:10,top:"50%","z-index":9999+t.data("totalNum")+1}),t.find(".right").css({position:"absolute",right:10,top:"50%","z-index":9999+t.data("totalNum")+1}),t.find("ul li").each(function(t,i){var a=e.hashIndexs[t];void 0!==a?(n=Math.pow(d.scale,Math.abs(a-s)),o=9999+(s<a?d.num-1-a:a),r(i).css({display:"block",position:"absolute","z-index":o,overflow:"hidden",width:n*d.maxWidth,height:n*d.maxHeight,left:a*d.distance+(1-n)*d.maxWidth*Number(s<a),top:(1-n)*d.maxHeight/2})):(n=Math.pow(d.scale,s),r(i).css({display:"none",position:"absolute",overflow:"hidden",width:n*d.maxWidth,height:n*d.maxHeight,left:s*d.distance+(1-n)*d.maxWidth/2,top:0}))})}(f),f.find(".left").off("click").on("click",(o=f,function(){m(o,"left")})),f.find(".right").off("click").on("click",(e=f,function(){m(e,"right")})),a=f,clearInterval(a.data("auto")),a.data("config").autoPlay?(n=setInterval(function(){m(a,"right")},a.data("config").showTime),a.data("auto",n),a.find("ul").off("mouseenter").on("mouseenter",function(){clearInterval(a.data("auto"))}).off("mouseleave").on("mouseleave",function(){n=setInterval(function(){m(a,"right")},a.data("config").showTime),a.data("auto",n)})):a.find("ul").off("mouseenter").off("mouseleave")}var a,n,e,o})}}function m(a,n){if(!a.data("isanimating")){var e,o,t,d,s,h,f=a.data("config"),l=(f.num-1)/2,i=a.data("totalNum");if("left"===n)t=(a.data("index")-1+i)%i;else{if("right"!==n)return;t=(a.data("index")+1)%a.data("totalNum")}var m=g(a);s=m.indexs[0],h=m.indexs[f.num-1],a.data("index",t);var u=g(a),c=function(t,i){for(var a=[],n=0;n<t;n++)n<=(t-1)/2?a.push(n):a.push((t-1)/2-n);return"left"===i?(a.reverse(),a):"right"===i?a:void 0}(f.num,n);i===f.num?animationTimeForEdge=0:i-f.num==2?animationTimeForEdge=f.animationTime/2:animationTimeForEdge=f.animationTime,a.find("ul li").each(function(t,i){void 0!==(o=u.hashIndexs[t])?(e=Math.pow(f.scale,Math.abs(o-l)),a.data("isanimating",!0),r(i).css({display:"block","z-index":c[o]+9999}).animate({width:e*f.maxWidth,height:e*f.maxHeight,left:o*f.distance+(1-e)*f.maxWidth*Number(l<o),top:(1-e)*f.maxHeight/2},f.animationTime,function(){a.data("isanimating",!1)})):(e=Math.pow(f.scale,l),d={display:"none",left:l*f.distance+(1-e)*f.maxWidth/2,top:0},"left"===n&&t===h?r(i).css("z-index",-1).animate({left:"-="+f.distance+"px"},f.animationTime,function(){r(i).css(d)}):"right"===n&&t===s?r(i).css("z-index",-1).animate({left:"+="+f.distance+"px"},f.animationTime,function(){r(i).css(d)}):r(i).css({display:"none",width:e*f.maxWidth,height:e*f.maxHeight,left:l*f.distance+(1-e)*f.maxWidth/2,top:0}))})}}function g(t){for(var i,a=[],n=(t.data("config").num-1)/2,e=t.data("index")||0,o=t.data("totalNum")||0,d=-n;d<=n;d++)i=e+d,a.push((i<0?i+o:i)%o);var s={};for(d=0;d<a.length;d++)s[a[d]]=d;return{indexs:a,hashIndexs:s}}}(jQuery);